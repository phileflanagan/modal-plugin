/*
 * pf-modal created by Phil Flanagan
 */
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){function t(t,o){var e;for(e in o)o.hasOwnProperty(e)&&(t[e]=o[e]);return t}function o(){var t,o=document.createElement("fakeelement"),e={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in e)if(void 0!==o.style[t])return e[t]}function e(){var t,o,e,s,a;o=n(this.options.content),s=i(this.options.classNames),a=document.createDocumentFragment(),this.modal=document.createElement("div"),this.modal.style.minWidth=this.options.minWidth+"px",this.modal.style.maxWidth=this.options.maxWidth+"px";for(var l=0;l<s.length;l++)this.modal.classList.add(s[l]);this.options.closeBtn&&(this.closeBtn=document.createElement("button"),this.closeBtn.className="pf-modal-close-btn",this.closeBtn.innerHTML="Ã—",this.modal.appendChild(this.closeBtn)),this.options.overlay&&(this.overlay=document.createElement("div"),this.overlay.className="pf-modal-overlay ",a.appendChild(this.overlay)),t=document.createElement("div"),t.classList.add("pf-modal-title-bar"),t.style.backgroundColor=this.options.color,t.textContent=this.options.title,this.modal.appendChild(t),e=document.createElement("div"),e.classList.add("pf-modal-content"),e.innerHTML=o,this.modal.appendChild(e),a.appendChild(this.modal),document.body.appendChild(a)}function n(t){try{if("string"==typeof t)return t;if(t instanceof HTMLElement)return t.innerHTML;throw new TypeError("Cannot parse content: input was "+t)}catch(t){console.error(t)}return""}function i(t){var o=["pf-modal"];if(1===t.length&&t[0]===o[0])return o;try{if("string"==typeof t)o.push(t);else{if(!(t instanceof Array))throw new TypeError("Cannot parse class names: input was "+t);for(var e=0;e<t.length;e++)o.push(t[e])}}catch(t){console.error(t)}return o}function s(){this.closeBtn&&this.closeBtn.addEventListener("click",this.close.bind(this)),this.overlay&&this.overlay.addEventListener("click",this.close.bind(this))}window.Modal=function(){this.closeButton=null,this.modal=null,this.overlay=null,this.transitionEnd=o();var e={classNames:["pf-modal"],closeBtn:!0,title:"pf-modal",color:"cornflowerblue",content:"",maxWidth:600,minWidth:300,overlay:!0};arguments[0]&&"object"===(void 0===arguments?"undefined":_typeof(arguments))&&(this.options=t(e,arguments[0]))},Modal.prototype.open=function(){e.call(this),s.call(this),window.getComputedStyle(this.modal).height,this.modal.classList.add("pf-modal-open"),this.options.overlay&&this.overlay.classList.add("pf-modal-open"),this.modal.offsetHeight>window.innerHeight&&this.modal.classList.add("pf-modal-anchored")},Modal.prototype.close=function(){this.modal.classList.remove("pf-modal-open"),this.modal.addEventListener(this.transitionEnd,function(t){"opacity"===t.propertyName&&this.modal.parentNode.removeChild(this.modal)}.bind(this)),this.options.overlay&&(this.overlay.classList.remove("pf-modal-open"),this.overlay.addEventListener(this.transitionEnd,function(t){"opacity"===t.propertyName&&this.overlay.parentNode.removeChild(this.overlay)}.bind(this)))}}();
